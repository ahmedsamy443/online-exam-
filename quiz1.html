<html>
    <head>
        <title>regestration form </title>
        <style>
            input
            {
                width: 500px;
                height: 40px;
                margin-left: 200px;
                
            }
            label
            {
            font-size: 20px;
            font-weight: bold;
            margin-left: 300px;
            }
        </style>
        <script>
            window.addEventListener("load",function()
            {
                var usernameinput = document.getElementById("username");
                var userpasswordinput=document.getElementById("userpassword");
                var passconfim=document.getElementById("passconfirm");
                var emailvalid=document.getElementById("emailvalid");
                var submitdata=document.getElementById("submitdata");
                submitdata.addEventListener("click",function(e)
                {
                    console.log(s)
                     if(!checkFunc())
                     {
                         
                 var chossengendr =document.querySelectorAll('input[type="radio"]:checked')[0].value
                    document.cookie="username="+usernameinput.value+"/"+"expires="+new Date(2022,9,09);
                    document.cookie="userpass="+userpasswordinput.value+"/"+"expires="+new Date(2022,9,09); 
                    document.cookie="gender="+chossengendr+"/"+"expires="+new Date(2022,9,09);


                       document.location.href="http://127.0.0.1:5500/quiz2.html"
                       
                     }
                     else
                     {
                         alert("please select your gender")
                         
                     }
                     
                     function checkFunc() { 
                         if (document.querySelectorAll('input[type="radio"]:checked').length === 0) 
                         {
                            return true;
                         }
                         
                     }    
                })
                document.getElementById("cancel").addEventListener("click",function()
                {
                    var sure = confirm("are you sure to cancel register")
                    if(sure==true){
                        document.getElementById("s").reset();

                    }
                })
                
                
               
              
                emailvalid.addEventListener("blur",function()
                {
                    if((!validem())|| emailvalid.value.length==0)
                    {
                        document.getElementById("emailvalids").innerHTML='please enter a valid email'
                        document.getElementById("emailvalids").style.color='red'
                        emailvalid.focus();
                    }
                    else
                    {
                        document.getElementById("emailvalids").innerHTML=' valid email'
                        document.getElementById("emailvalids").style.color='green'


                    }
                })
              

                usernameinput.addEventListener("blur",function()
                {
                   
                    if((!vaildusername())||usernameinput=="")
                    {
                        document.getElementById("messageusername").innerHTML='please enter a valid username'
                        usernameinput.focus();

                    }
                    else
                    {
                        document.getElementById("messageusername").innerHTML=' valid username'
                        document.getElementById("messageusername").style.color='green'

                    }
                    

                })
                userpasswordinput.addEventListener("blur",function()
                {
                    if((!validpassword())||userpasswordinput=="")
                    {
                        document.getElementById("passwords").innerHTML='please enter a valid password'
                        userpasswordinput.focus();
                    }
                    else
                    {
                        document.getElementById("passwords").innerHTML='valid password'
                        document.getElementById("passwords").style.color='green'

                    }
                   //     debugger;
                    
                    passconfim.addEventListener("blur",function()
                    {
                        if(passconfim.value!=userpasswordinput.value||passconfim=="")
                        {
                            document.getElementById("passconfirms").innerHTML=' password dont match';
                            passconfim.focus();

                        }
                        else 
                        {
                            document.getElementById("passconfirms").innerHTML=' password has been confirmed';
                            document.getElementById("passconfirms").style.color='green'

                        }

                    })
                    emailvalid.addEventListener("blur",function()
                    {
                        if(validemail())
                        { 
                            alert("right")
                        }
                        else
                        {
                            alert("wrong")

                        }
                    })
                })
                function vaildusername()
                {
                     var lit=/^[a-zA-Z]{6,8}$/;
                     if(usernameinput.value.match(lit))
                     {
                         return true ;

                     }
                     else 
                     {
                         return false;
                     }

                }
                function validpassword()
                {
                    var litpasswrd=/^(?=.*?[A-Z])(?=(.*[a-z]){1,})(?=(.*[\d]){1,})(?=(.*[\W]){1,})(?!.*\s).{6,}$/;
                    if (userpasswordinput.value.match(litpasswrd))
                    {
                           return true 
                    }
                    else {return false }
                }
                function validem()
                {
                   var  filter = /^([a-zA-Z0-9_\.\-])+\@(([a-zA-Z0-9\-])+\.)+([a-zA-Z0-9]{2,4})+$/;
                  if(emailvalid.value.match(filter))
                  {
                      return true;
                  }
                  

                }
               
                
                

            })
            
    
        </script>

    </head> 
    <body>
        <h2 align='center' >regestration form</h2>
        <br>
        <form method="GET" id="s">
            <label >user name </label>
            <input id="username" type="text" name="username">
            <span style="color: red;" id="messageusername"></span>
            <br><br><br>
            <label > user password </label>
            <input id="userpassword" type="password" style="margin-left: 165px;" >
            <span style="color: red;" id="passwords"></span>
            <br><br><br>
            <label>password confirmation</label>
            <input id="passconfirm" style="margin-left: 90px;" type="password"><span id="passconfirms" style="color: red;"></span>
            <br><br><br>
            <label>Email</label>
            <input id="emailvalid" style="margin-left: 235px;" type="text" > <span id="emailvalids"></span> <br><br><br>
            <label>gender</label>
            <input style="margin-left:190px; width: 100px; height: 20px;" type="radio" name="gender" value="male" > 
            <label  style="margin-left:0px;">male</label> <br><br>
            <input style="margin-left:550px; width: 100px; height: 20px;" type="radio" name="gender" value="female" > 
            <label  style="margin-left:0px;">female</label> <br><br><br>
            <input style="width: 200px; margin-left: 300px; color: red;" type="button" value="ok" id="submitdata" >
            <input style="width: 200px; color: red;" type="button" value="cancel" id="cancel" >

        </form> 
       
       </body>
</html>